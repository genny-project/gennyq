<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_DlxaUF5lEDutl9pE6RlAbQ" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_sourceCodeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_processIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_alreadyExistingItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_dataItem" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="_productCodeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21_dataOutputXItem" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="start_parent_lifecycleType" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="_8116EFC4-DB3C-472C-A620-D3BC3C2A0E81" structureRef=""/>
  <bpmn2:itemDefinition id="_4BBEDD8A-ED8D-46B2-BE10-9E0D5CD30B20" structureRef=""/>
  <bpmn2:itemDefinition id="__AC12C7E3-434A-424B-B220-5C9CA5382BCC_dataInputXItem" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="__36C22626-601C-4362-8679-C175698C763C_dataInputXItem" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="abort_parent_lifecycleType" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="__9F4D91BB-FD35-44EA-86E0-292A01137A71_dataInputXItem" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:itemDefinition id="return_parent_lifecycleType" structureRef="life.genny.kogito.common.models.S2SData"/>
  <bpmn2:message id="_Dl254F5lEDutl9pE6RlAbQ" itemRef="start_parent_lifecycleType" name="start_parent_lifecycle"/>
  <bpmn2:interface id="_AC12C7E3-434A-424B-B220-5C9CA5382BCC_ServiceInterface" name="life.genny.kogito.common.service.Service2Service" implementationRef="life.genny.kogito.common.service.Service2Service">
    <bpmn2:operation id="_AC12C7E3-434A-424B-B220-5C9CA5382BCC_ServiceOperation" name="initialiseScope" implementationRef="initialiseScope"/>
  </bpmn2:interface>
  <bpmn2:message id="_Dl3g8F5lEDutl9pE6RlAbQ" itemRef="abort_parent_lifecycleType" name="abort_parent_lifecycle"/>
  <bpmn2:message id="_Dl3g8V5lEDutl9pE6RlAbQ" itemRef="return_parent_lifecycleType" name="return_parent_lifecycle"/>
  <bpmn2:collaboration id="_9B0A9312-30E0-4105-A04C-DE537FF2AAB3" name="Default Collaboration">
    <bpmn2:participant id="_320CA1B4-52D1-4A02-AECB-62C8D0FCFB63" name="Pool Participant" processRef="parentLC"/>
  </bpmn2:collaboration>
  <bpmn2:process id="parentLC" drools:packageName="life.genny.gadaq" drools:version="1.0" drools:adHoc="false" name="ParentLC" isExecutable="true" processType="Public">
    <bpmn2:extensionElements>
      <drools:import name="life.genny.qwandaq.entity.BaseEntity"/>
      <drools:import name="life.genny.qwandaq.message.QDataAnswerMessage"/>
      <drools:import name="java.time.LocalDateTime"/>
      <drools:import name="io.quarkus.arc.Arc"/>
      <drools:import name="life.genny.kogito.common.models.TimerData"/>
      <drools:import name="life.genny.kogito.common.models.TimerEvents"/>
      <drools:import name="life.genny.kogito.common.service.TimerEventService"/>
      <drools:import name="life.genny.qwandaq.message.QEventMessage"/>
      <drools:import name="life.genny.kogito.common.models.TimerEvent"/>
    </bpmn2:extensionElements>
    <bpmn2:property id="sourceCode" itemSubjectRef="_sourceCodeItem" name="sourceCode"/>
    <bpmn2:property id="processId" itemSubjectRef="_processIdItem" name="processId">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="alreadyExisting" itemSubjectRef="_alreadyExistingItem" name="alreadyExisting">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="data" itemSubjectRef="_dataItem" name="data">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="productCode" itemSubjectRef="_productCodeItem" name="productCode"/>
    <bpmn2:sequenceFlow id="_C61B11C8-6CA4-4A48-8900-5A0D0A56744C" sourceRef="_DBA53C1E-7499-40A1-857A-A44BEBB94E4C" targetRef="_D620A71D-6745-44D9-9C6D-657B8F82C9FD"/>
    <bpmn2:sequenceFlow id="_5A9C1A15-B5AF-430E-AF29-77041298B1F3" sourceRef="_D620A71D-6745-44D9-9C6D-657B8F82C9FD" targetRef="_9F4D91BB-FD35-44EA-86E0-292A01137A71"/>
    <bpmn2:sequenceFlow id="_096327D3-5F00-4B06-B8CE-011B57D2FC12" sourceRef="_D620A71D-6745-44D9-9C6D-657B8F82C9FD" targetRef="_36C22626-601C-4362-8679-C175698C763C">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return data.isAborted();]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_4465C370-6E38-4F0D-901E-7A988B700A2C" sourceRef="_AC12C7E3-434A-424B-B220-5C9CA5382BCC" targetRef="_DBA53C1E-7499-40A1-857A-A44BEBB94E4C"/>
    <bpmn2:sequenceFlow id="_0E619AC8-C3A9-40DC-85CB-ACDCF20E3F92" sourceRef="_F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21" targetRef="_AC12C7E3-434A-424B-B220-5C9CA5382BCC"/>
    <bpmn2:scriptTask id="_DBA53C1E-7499-40A1-857A-A44BEBB94E4C" name="Set Product Code" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Set Product Code]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_4465C370-6E38-4F0D-901E-7A988B700A2C</bpmn2:incoming>
      <bpmn2:outgoing>_C61B11C8-6CA4-4A48-8900-5A0D0A56744C</bpmn2:outgoing>
      <bpmn2:script>productCode = data.getProductCode();
sourceCode = data.getSourceCode();  
kcontext.setVariable("productCode",productCode);
kcontext.setVariable("sourceCode", sourceCode);
</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="_D620A71D-6745-44D9-9C6D-657B8F82C9FD" drools:dg="_5A9C1A15-B5AF-430E-AF29-77041298B1F3" gatewayDirection="Diverging" default="_5A9C1A15-B5AF-430E-AF29-77041298B1F3">
      <bpmn2:incoming>_C61B11C8-6CA4-4A48-8900-5A0D0A56744C</bpmn2:incoming>
      <bpmn2:outgoing>_096327D3-5F00-4B06-B8CE-011B57D2FC12</bpmn2:outgoing>
      <bpmn2:outgoing>_5A9C1A15-B5AF-430E-AF29-77041298B1F3</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:endEvent id="_9F4D91BB-FD35-44EA-86E0-292A01137A71" name="Submitted">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Submitted]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_5A9C1A15-B5AF-430E-AF29-77041298B1F3</bpmn2:incoming>
      <bpmn2:dataInput id="_9F4D91BB-FD35-44EA-86E0-292A01137A71_dataInputX" drools:dtype="life.genny.kogito.common.models.S2SData" itemSubjectRef="__9F4D91BB-FD35-44EA-86E0-292A01137A71_dataInputXItem" name="data"/>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>data</bpmn2:sourceRef>
        <bpmn2:targetRef>_9F4D91BB-FD35-44EA-86E0-292A01137A71_dataInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:inputSet>
        <bpmn2:dataInputRefs>_9F4D91BB-FD35-44EA-86E0-292A01137A71_dataInputX</bpmn2:dataInputRefs>
      </bpmn2:inputSet>
      <bpmn2:messageEventDefinition drools:msgref="return_parent_lifecycle" messageRef="_Dl3g8V5lEDutl9pE6RlAbQ"/>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="_36C22626-601C-4362-8679-C175698C763C" name="Aborted">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Aborted]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_096327D3-5F00-4B06-B8CE-011B57D2FC12</bpmn2:incoming>
      <bpmn2:dataInput id="_36C22626-601C-4362-8679-C175698C763C_dataInputX" drools:dtype="life.genny.kogito.common.models.S2SData" itemSubjectRef="__36C22626-601C-4362-8679-C175698C763C_dataInputXItem" name="data"/>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>data</bpmn2:sourceRef>
        <bpmn2:targetRef>_36C22626-601C-4362-8679-C175698C763C_dataInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:inputSet>
        <bpmn2:dataInputRefs>_36C22626-601C-4362-8679-C175698C763C_dataInputX</bpmn2:dataInputRefs>
      </bpmn2:inputSet>
      <bpmn2:messageEventDefinition drools:msgref="abort_parent_lifecycle" messageRef="_Dl3g8F5lEDutl9pE6RlAbQ"/>
    </bpmn2:endEvent>
    <bpmn2:serviceTask id="_AC12C7E3-434A-424B-B220-5C9CA5382BCC" drools:serviceimplementation="Java" drools:serviceinterface="life.genny.kogito.common.service.Service2Service" drools:serviceoperation="initialiseScope" name="Scope Init" implementation="Java" operationRef="_AC12C7E3-434A-424B-B220-5C9CA5382BCC_ServiceOperation">
      <bpmn2:documentation><![CDATA[Initialise the request scope]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Scope Init]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_0E619AC8-C3A9-40DC-85CB-ACDCF20E3F92</bpmn2:incoming>
      <bpmn2:outgoing>_4465C370-6E38-4F0D-901E-7A988B700A2C</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_AC12C7E3-434A-424B-B220-5C9CA5382BCC_dataInputX" drools:dtype="life.genny.kogito.common.models.S2SData" itemSubjectRef="__AC12C7E3-434A-424B-B220-5C9CA5382BCC_dataInputXItem" name="data"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_AC12C7E3-434A-424B-B220-5C9CA5382BCC_dataInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>data</bpmn2:sourceRef>
        <bpmn2:targetRef>_AC12C7E3-434A-424B-B220-5C9CA5382BCC_dataInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:startEvent id="_F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21" name="Start">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Start]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:outgoing>_0E619AC8-C3A9-40DC-85CB-ACDCF20E3F92</bpmn2:outgoing>
      <bpmn2:dataOutput id="_F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21_dataOutputX" drools:dtype="life.genny.kogito.common.models.S2SData" itemSubjectRef="__F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21_dataOutputXItem" name="data"/>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21_dataOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>data</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:outputSet>
        <bpmn2:dataOutputRefs>_F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21_dataOutputX</bpmn2:dataOutputRefs>
      </bpmn2:outputSet>
      <bpmn2:messageEventDefinition drools:msgref="start_parent_lifecycle" messageRef="_Dl254F5lEDutl9pE6RlAbQ"/>
    </bpmn2:startEvent>
  </bpmn2:process>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="parentLC">
      <bpmndi:BPMNShape id="shape__F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21" bpmnElement="_F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21">
        <dc:Bounds height="56" width="56" x="33" y="131"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__AC12C7E3-434A-424B-B220-5C9CA5382BCC" bpmnElement="_AC12C7E3-434A-424B-B220-5C9CA5382BCC">
        <dc:Bounds height="102" width="93" x="121.5" y="108"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__36C22626-601C-4362-8679-C175698C763C" bpmnElement="_36C22626-601C-4362-8679-C175698C763C">
        <dc:Bounds height="56" width="56" x="900" y="271.12799999999993"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__9F4D91BB-FD35-44EA-86E0-292A01137A71" bpmnElement="_9F4D91BB-FD35-44EA-86E0-292A01137A71">
        <dc:Bounds height="56" width="56" x="899.7820705326949" y="108"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__D620A71D-6745-44D9-9C6D-657B8F82C9FD" bpmnElement="_D620A71D-6745-44D9-9C6D-657B8F82C9FD">
        <dc:Bounds height="56" width="56" x="799" y="108"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__DBA53C1E-7499-40A1-857A-A44BEBB94E4C" bpmnElement="_DBA53C1E-7499-40A1-857A-A44BEBB94E4C">
        <dc:Bounds height="100" width="100" x="237" y="108"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__F07ACBC5-775B-4EB3-A5F2-491C4F0BFD21_to_shape__AC12C7E3-434A-424B-B220-5C9CA5382BCC" bpmnElement="_0E619AC8-C3A9-40DC-85CB-ACDCF20E3F92">
        <di:waypoint x="61" y="159"/>
        <di:waypoint x="121.5" y="159"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__AC12C7E3-434A-424B-B220-5C9CA5382BCC_to_shape__DBA53C1E-7499-40A1-857A-A44BEBB94E4C" bpmnElement="_4465C370-6E38-4F0D-901E-7A988B700A2C">
        <di:waypoint x="168" y="159"/>
        <di:waypoint x="237" y="158"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__D620A71D-6745-44D9-9C6D-657B8F82C9FD_to_shape__36C22626-601C-4362-8679-C175698C763C" bpmnElement="_096327D3-5F00-4B06-B8CE-011B57D2FC12">
        <di:waypoint x="827" y="136"/>
        <di:waypoint x="826.9999999991953" y="299.12799999999993"/>
        <di:waypoint x="900" y="299.12799999999993"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__D620A71D-6745-44D9-9C6D-657B8F82C9FD_to_shape__9F4D91BB-FD35-44EA-86E0-292A01137A71" bpmnElement="_5A9C1A15-B5AF-430E-AF29-77041298B1F3">
        <di:waypoint x="827" y="136"/>
        <di:waypoint x="899.7820705326949" y="136"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__DBA53C1E-7499-40A1-857A-A44BEBB94E4C_to_shape__D620A71D-6745-44D9-9C6D-657B8F82C9FD" bpmnElement="_C61B11C8-6CA4-4A48-8900-5A0D0A56744C">
        <di:waypoint x="287" y="158"/>
        <di:waypoint x="799" y="136"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters/>
          <bpsim:ElementParameters elementRef="_AC12C7E3-434A-424B-B220-5C9CA5382BCC">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_DBA53C1E-7499-40A1-857A-A44BEBB94E4C">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_DlxaUF5lEDutl9pE6RlAbQ</bpmn2:source>
    <bpmn2:target>_DlxaUF5lEDutl9pE6RlAbQ</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>